<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Softexel Tailwind App</title>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Swiper CSS -->
    <link rel="stylesheet" href="/css/swiper-bundle.min.css" />
  </head>

  <body class="bg-gradient-to-r from-white via-blue-50 to-white">
    <!-- Section Containers -->
    <div id="navbar"></div>
    <div id="hero"></div>
    <div id="team" class="mt-20"></div>
    <div id="footer"></div>

    <!-- ✅ Load Swiper JS -->
    <script src="/js/swiper-bundle.min.js"></script>

    <!-- ✅ Navbar logic file -->
    <script src="navbar.js"></script>

    <!-- ✅ Page Initialization -->
    <script>
      // Load section HTML into a container div
      async function loadSection(id, url) {
        try {
          const res = await fetch(url);
          if (!res.ok) throw new Error(`${url} not found`);
          const html = await res.text();
          document.getElementById(id).innerHTML = html;
        } catch (error) {
          console.error(`Error loading ${url}:`, error);
        }
      }

      // Swiper initialization (only after team section loads)
      function initializeSwiper() {
        new Swiper(".client-swiper", {
          slidesPerView: 3,
          spaceBetween: 20,
          loop: true,
          navigation: {
            nextEl: "#nextBtn",
            prevEl: "#prevBtn",
          },
          breakpoints: {
            640: { slidesPerView: 2 },
            1024: { slidesPerView: 4 },
          },
        });
        console.log("✅ Swiper initialized");
      }

      // Main page loader
      async function initializePage() {
        // Load navbar
        await loadSection("navbar", "navbar.html");
        if (typeof initializeNavbar === "function") initializeNavbar();

        // Load other sections
        await loadSection("hero", "hero.html");

        // Load swiper section and initialize Swiper after it's in DOM
        await loadSection("team", "team.html");
        initializeSwiper();

        await loadSection("footer", "footer.html");
      }

      // Start loading after DOM ready
      window.addEventListener("DOMContentLoaded", initializePage);
    </script>
  </body>
</html>
